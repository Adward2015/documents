# 安装
## centos7
### 官方源
地址:https://dev.mysql.com/downloads/  
下载"MySQL Yum Repository"
放到linux机器中,执行安装

```
[root@centos7 yum.repos.d]# wget -O /root/mysql80-community-release-el7-3.noarch.rpm https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
[root@centos7 ~]# cd ~
[root@centos7 ~]# yum -y localinstall mysql80-community-release-el7-3.noarch.rpm
```
去/etc/yum.repos.d/目录验证下是否生成对应的mysql-community*.repo文件
```
[root@centos7 ~]# cd /etc/yum.repos.d/
[root@centos7 yum.repos.d]# ll
total 44
-rw-r--r--. 1 root root 1664 Nov 23  2018 CentOS-Base.repo
-rw-r--r--. 1 root root 1309 Nov 23  2018 CentOS-CR.repo
-rw-r--r--. 1 root root  649 Nov 23  2018 CentOS-Debuginfo.repo
-rw-r--r--. 1 root root  314 Nov 23  2018 CentOS-fasttrack.repo
-rw-r--r--. 1 root root  630 Nov 23  2018 CentOS-Media.repo
-rw-r--r--. 1 root root 1331 Nov 23  2018 CentOS-Sources.repo
-rw-r--r--. 1 root root 5701 Nov 23  2018 CentOS-Vault.repo
-rw-r--r--  1 root root 2424 Oct 18 17:57 docker-ce.repo
-rw-r--r--  1 root root  995 Oct  4 03:24 mysql-community.repo
-rw-r--r--  1 root root 1050 Oct  4 03:24 mysql-community-source.repo
```
执行yum clean all && yum makecache

* 如果报错"Could not resolve host"
    ```
    # vi /etc/resolv.conf
     
    # Generated by NetworkManager
    nameserver 8.8.8.8
    nameserver 114.114.114.114
    ```
执行安装命令`yum -y install mysql-community-server`

```
[root@centos7 ~]# yum -y install mysql-community-server
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * extras: mirrors.aliyun.com
 * updates: mirrors.aliyun.com
Resolving Dependencies
--> Running transaction check
---> Package mysql-community-server.x86_64 0:8.0.19-1.el7 will be installed
--> Processing Dependency: mysql-community-common(x86-64) = 8.0.19-1.el7 for package: mysql-community-server-8.0.19-1.el7.x86_64
--> Processing Dependency: mysql-community-client(x86-64) >= 8.0.11 for package: mysql-community-server-8.0.19-1.el7.x86_64
--> Running transaction check
---> Package mysql-community-client.x86_64 0:8.0.19-1.el7 will be installed
--> Processing Dependency: mysql-community-libs(x86-64) >= 8.0.11 for package: mysql-community-client-8.0.19-1.el7.x86_64
---> Package mysql-community-common.x86_64 0:8.0.19-1.el7 will be installed
--> Running transaction check
---> Package mysql-community-libs.x86_64 0:8.0.19-1.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

=========================================================================================================================================
 Package                                 Arch                    Version                        Repository                          Size
=========================================================================================================================================
Installing:
 mysql-community-server                  x86_64                  8.0.19-1.el7                   mysql80-community                  436 M
Installing for dependencies:
 mysql-community-client                  x86_64                  8.0.19-1.el7                   mysql80-community                   41 M
 mysql-community-common                  x86_64                  8.0.19-1.el7                   mysql80-community                  605 k
 mysql-community-libs                    x86_64                  8.0.19-1.el7                   mysql80-community                  4.0 M

Transaction Summary
=========================================================================================================================================
Install  1 Package (+3 Dependent packages)

Total download size: 482 M
Installed size: 2.1 G
Downloading packages:
warning: /var/cache/yum/x86_64/7/mysql80-community/packages/mysql-community-common-8.0.19-1.el7.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY
Public key for mysql-community-common-8.0.19-1.el7.x86_64.rpm is not installed
(1/4): mysql-community-common-8.0.19-1.el7.x86_64.rpm                                                             | 605 kB  00:00:01
(2/4): mysql-community-libs-8.0.19-1.el7.x86_64.rpm                                                               | 4.0 MB  00:00:05
......
Running transaction
  Installing : mysql-community-common-8.0.19-1.el7.x86_64                                                                            1/4
  Installing : mysql-community-libs-8.0.19-1.el7.x86_64                                                                              2/4
  Installing : mysql-community-client-8.0.19-1.el7.x86_64                                                                            3/4
  Installing : mysql-community-server-8.0.19-1.el7.x86_64                                                                            4/4
  Verifying  : mysql-community-server-8.0.19-1.el7.x86_64                                                                            1/4
  Verifying  : mysql-community-client-8.0.19-1.el7.x86_64                                                                            2/4
  Verifying  : mysql-community-libs-8.0.19-1.el7.x86_64                                                                              3/4
  Verifying  : mysql-community-common-8.0.19-1.el7.x86_64                                                                            4/4

Installed:
  mysql-community-server.x86_64 0:8.0.19-1.el7

Dependency Installed:
  mysql-community-client.x86_64 0:8.0.19-1.el7  mysql-community-common.x86_64 0:8.0.19-1.el7  mysql-community-libs.x86_64 0:8.0.19-1.el7

Complete!
```
# 配置
## Centos7

1. 启动服务及密码查看
    ```
    [root@centos7 yum.repos.d]# systemctl start  mysqld.service
    [root@centos7 yum.repos.d]# grep "password" /var/log/mysqld.log
    2020-02-04T13:40:24.690602Z 5 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: Ijz;09A+AAyN
    ```
2. 使用初始密码登录  
    `[root@centos7 yum.repos.d]# mysql -u root -p`
3. 修改本地登录密码
    `ALTER USER 'root'@'localhost' IDENTIFIED BY 'Adward@2020';`
    * 如果有设置简单密码的需求,如设置为root,执行下面语句
    ```
    mysql> set global validate_password.policy=0;
    mysql> set global validate_password.length=4; 
    mysql> set global validate_password.check_user_name=0; 
    ```
4. 允许远程访问
    * 首先设置远程登录的用户和密码
    创建用户并给与权限
    ```
    mysql> create user 'root'@'%' identified by 'root';
    mysql> grant all on *.* to 'root'@'%';
    mysql> flush privileges;
    ```
    * 开通防火墙
    ```
    [root@centos7 ~]# firewall-cmd --zone=public --add-port=3306/tcp --permanent
    success
    [root@centos7 ~]# firewall-cmd --reload
    success
    [root@centos7 ~]# firewall-cmd --list-ports
    3306/tcp
    ```
 5. 开机自启动
    `systemctl enable mysqld.service`
    